> **📅 업로드 날짜**  
> 2025-09-17 
>
> **🗂 분류**  
> Operating System
>
> **🔗 노션 링크**  
> [노션에서 보기](https://www.notion.so/IPC-Inter-Process-Communication-269a654e658a8064b6eee65200a42639)

# IPC =프로세스 간 통신

IPC는 여러 프로세스가 동시에 실행되는 환경에서 데이터를 주고받거나 서로 통신하기 위한 메커니즘이다.

- 예를 들어 카카오톡 실행을 실행해서, 파일을 보낸다고 가정해보자.
    - 카톡이 실행되면 하나의 프로세스가 만들어진다.
    - 그런데 여기서 파일을 보낸다고 하면, 파일을 전송하는 담당 프로세스가 동작하는데, 여기서 데이터를 서로 주고받아야 한다. 여기서 사용하는 것이 **IPC**이다.

## **IPC의 종류**

1. Pipe(익명, 실명)
2. Named Pipe
3. Message Queue
4. Shared Memory
5. Socket Communication

## Anonymous pipe(익명 파이프)


<img width="731" height="233" alt="image (29)" src="https://github.com/user-attachments/assets/95beaac7-402f-4b7f-83f0-373a120c89df" />

출처: https://code-lab1.tistory.com/42

- 파이프는 두 프로세스 간 단방향 통신을 수행할 때 이용된다.
- 파이프는 일종의 파일로 관리되는데, 이는 익명으로 생성되어 서로 관련이 있는 프로세스(ex. 부모 - 자식)가 아니라면 이에 접근할 수 없다.
- 파이프는 전송 데이터 간 순서를 보장하고 사용이 어렵지 않다는 점
- 파이프가 작동하는 방식은 다음과 같다.
    1. 송신 측에서, 파이프에 대해 할당된 파일에 쓰기 작업(write)을 수행
    2. 데이터의 순서를 유지한 채 데이터 전송(파이프는 전달 데이터의 순서를 보장)
    3. 수신 측에서, 파이프에 대해 할당된 파일에 읽기 작업(read)을 수행하여 데이터 수신

## Named Pipe

위에서 언급한 파이프를 익명 파이프라고 부르기도 하는데, 그와는 달리 이름이 따로 있는 파이프도 존재한다.

익명 파이프와 달리 서로 관련이 없는 프로세스일지라도 파이프에 접근하고 사용할 수 있으며 파이프의 생명주기가 특정 프로세스에 종속되지도 않는다.

따라서 프로세스와 관련 없이 파이프가 지속적으로 존재해야 되는 경우에 사용된다.

예시)  로그 수집 시스템

- **상황**: 서버에서 여러 애플리케이션이 동시에 로그를 남김
- **문제**: 각 애플리케이션이 직접 로그 파일에 쓰면 충돌 위험
- 애플리케이션 A, B, C → 쓰기 (`O_WRONLY`)
- 로그 수집 프로세스(L) → 읽기 (`O_RDONLY`)
- 독립 프로세스 간 안전하게 데이터 전달, 동시에 여러 프로세스 가능

## Message Queue

<img width="651" height="301" alt="image (30)" src="https://github.com/user-attachments/assets/c12a0fd9-d2f0-4376-a717-64e86ae83c7c" />

메시지 큐는 앞서 언급한 파이프와는 달리 비동기 방식으로 프로세스 간 통신을 수행할 수 있는 방법이다.

송신 프로세스는 시스템 콜을 통해 커널에 존재하는 큐(Queue)에다가 메시지를 보내면,

수신 측에서는 마찬가지로 시스템 콜을 통해 큐에 존재하는 메시지를 꺼내올 수 있다.

### 동작원리

1. 프로세스 A → 메시지 큐에 메시지 `send`
2. 커널 → 메시지를 큐에 저장
3. 프로세스 B → 메시지 큐에서 메시지 `receive`
4. 커널 → 메시지를 전달, 큐에서 제거

## Shared Memory
<img width="446" height="223" alt="스크린샷 2025-09-17 164456" src="https://github.com/user-attachments/assets/455a258b-a877-4d98-8571-670c3f705d6f" />

말 그대로 프로세스 간에 서로 공유할 수 있는 메모리를 추가로 할당하고 이를 통해 데이터를 주고 받는 방식이다.

단순히 메모리에 접근하는 방식이기 때문에 커널을 경유하지 않아, 다른 IPC 방식들에 비해 속도가 빠르지만,

멀티 스레드 환경과 유사하게 동시성 문제가 발생할 수 있기 때문에 추가적인 조치(세마포어, 뮤텍스 등의 동시성 이슈 관리)가 필요하다.

## Socket Communication

소켓은 네트워크를 통해서 프로세스 간 통신을 지원하는 방법이다. 파이프 개념을 네트워크로 확장시킨 것으로 볼 수 있는데, 주로 서버-클라이언트에서 사용하지.

동일 시스템 내에서는 UDS(Unix Domain Socket) 로 IPC를 지원할 수 있고, 다른 네트워크 상에서는 Network Socket으로 사용 !
